!function(t){t.twt||(t.twt={});var i=t.twt,s=function(t,e,n){n||(n=Object.keys(t)),e||(e=Array.isArray(t)?[]:{});for(var o=0;o<n.length;o++)t[n[o]]&&(e[n[o]]="object"==typeof t[n[o]]?s(t[n[o]]):t[n[o]]);return e},r=function(t,e){var n,o,i=[];for(n in t){var s=encodeURIComponent(n);e&&(s=e+"["+s+"]"),t[n]&&"object"==typeof t[n]?i=i.concat(r(t[n],s)):(o=t[n],o=encodeURIComponent("function"==typeof o?o():o),i.push(s+"="+o))}return i.join("&")},h=function(t,e){this.url=t,this.options=e||{}},e=h.prototype;e.set=function(t,e){return this.options[t]=e,this},e.get=function(t){return this.options[t]},e.header=function(t,e){return this.options.headers||(this.options.headers={}),this.options.headers[t]=e,this},e.method=function(t){return this.set("method",t.toUpperCase()),this},e.mode=function(t){return this.set("mode",t),this},e.credentials=function(t){return this.set("credentials",t),this},e.cache=function(t){return this.set("cache",t),this},e.headers=function(t){return this.set("headers",t),this},e.want=function(t){return"json"===t&&(t="application/json"),"html"===t&&(t="text/html"),this.header("Accept",t),this},e.body=function(t,e){if("HEAD"===this.options.method)return this;switch(e||(e=i.fetch.default.bodyFormat),e){case"json":this.set("body",JSON.stringify(t)),this.header("Content-Type","application/json");break;case"urlencoded":this.set("body",r(t)),this.header("Content-Type","application/x-www-form-urlencoded");break;case"raw":default:this.set("body",t)}return this.options.method&&"GET"!==this.options.method||(this.options.method="POST"),this},e.then=function(t,e){return window.fetch(this.url,this.options).then(t,e)},i.fetch=function(t,e){var n={};if(s(i.fetch.default.options,n),window.Request&&t instanceof window.Request){var o=t;t=o.url,s(o,n,["method","mode","credentials","cache"]),e.headers=o.headers.getAll()}else e&&s(e,n);return new h(t,n)},i.fetch.default={bodyFormat:"json",options:{credentials:"same-origin",mode:"same-origin",headers:{Accept:"text/html"}}}}("undefined"!=typeof window?window:this);